(function(){$(function(){function i(){location.reload(!0)}function r(n,t){abp.message.confirm(abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","LetsDisc"),t),function(t){t&&_userService.delete({id:n}).done(function(){i()})})}var u=abp.services.app.question,n=$("#UserCreateModal"),t=n.find("form");t.validate({rules:{Password:"required",ConfirmPassword:{equalTo:"#Password"}}});$("#RefreshButton").click(function(){i()});$(".delete-user").click(function(){var n=$(this).attr("data-user-id"),t=$(this).attr("data-user-name");r(n,t)});$(".edit-user").click(function(n){var t=$(this).attr("data-user-id");n.preventDefault();$.ajax({url:abp.appPath+"Users/EditUserModal?userId="+t,type:"POST",contentType:"application/html",success:function(n){$("#UserEditModal div.modal-content").html(n)},error:function(){}})});t.find('button[type="submit"]').click(function(i){var r,u,f,e;if(i.preventDefault(),t.valid()){if(r=t.serializeFormToObject(),r.roleNames=[],u=$("input[name='role']:checked"),u)for(f=0;f<u.length;f++)e=$(u[f]),r.roleNames.push(e.val());abp.ui.setBusy(n);_userService.create(r).done(function(){n.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(n)})}});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})})})();